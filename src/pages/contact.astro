---
import Layout from '../layouts/Layout.astro';
import { getAllCities } from '../lib/data';
import { getBusinessInfo, getContactInfo, getCompanyInfo, getHoursInfo, getEmergencyContact } from '../config/business';

const cities = getAllCities();
const businessInfo = getBusinessInfo();
const contactInfo = getContactInfo();
const companyInfo = getCompanyInfo();
const hoursInfo = getHoursInfo();
const emergencyContact = getEmergencyContact();
---

<Layout title={`Contact Us | ${companyInfo.name}`} description={`Contact ${companyInfo.name} for professional electrical services in La Mirada, Whittier, Cerritos and surrounding California areas. Get your free quote today!`}>
  <main class="min-h-screen bg-background">
    <!-- Hero Section -->
    <section class="py-20 px-4 bg-gradient-to-br from-primary/10 to-primary/5">
      <div class="container mx-auto text-center">
        <h1 class="text-4xl md:text-6xl font-bold text-foreground mb-6">
          Contact {companyInfo.name}
        </h1>
        <p class="text-xl text-muted-foreground mb-8 max-w-3xl mx-auto">
          Ready to get started with professional electrical services? Contact us today for a free quote or emergency service.
        </p>
      </div>
    </section>

    <!-- Contact Form & Info Section -->
    <section class="py-16 px-4">
      <div class="container mx-auto">
        <div class="grid lg:grid-cols-2 gap-12">
          <!-- Contact Form -->
          <div>
            <h2 class="text-3xl font-bold mb-8">Get Your Free Quote</h2>
            <form class="space-y-6">
              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <label for="firstName" class="block text-sm font-medium text-foreground mb-2">First Name *</label>
                  <input 
                    type="text" 
                    id="firstName" 
                    name="firstName" 
                    required
                    class="w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="Your first name"
                  />
                </div>
                <div>
                  <label for="lastName" class="block text-sm font-medium text-foreground mb-2">Last Name *</label>
                  <input 
                    type="text" 
                    id="lastName" 
                    name="lastName" 
                    required
                    class="w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                    placeholder="Your last name"
                  />
                </div>
              </div>
              
              <div>
                <label for="email" class="block text-sm font-medium text-foreground mb-2">Email Address *</label>
                <input 
                  type="email" 
                  id="email" 
                  name="email" 
                  required
                  class="w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                  placeholder="your.email@example.com"
                />
              </div>
              
              <div>
                <label for="phone" class="block text-sm font-medium text-foreground mb-2">Phone Number *</label>
                <input 
                  type="tel" 
                  id="phone" 
                  name="phone" 
                  required
                  class="w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                  placeholder={contactInfo.main.phone}
                />
              </div>
              
              <div>
                <label for="city" class="block text-sm font-medium text-foreground mb-2">City *</label>
                <select 
                  id="city" 
                  name="city" 
                  required
                  class="w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                >
                  <option value="">Select your city</option>
                  {cities.map((city: any) => (
                    <option value={city.slug}>{city.name}, {city.stateAbbr}</option>
                  ))}
                  <option value="other">Other (please specify in message)</option>
                </select>
              </div>
              
              <div>
                <label for="service" class="block text-sm font-medium text-foreground mb-2">Service Needed *</label>
                <select 
                  id="service" 
                  name="service" 
                  required
                  class="w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                >
                  <option value="">Select a service</option>
                  <option value="residential-wiring">Residential Wiring</option>
                  <option value="commercial-electrical">Commercial Electrical</option>
                  <option value="emergency-repairs">Emergency Repairs</option>
                  <option value="electrical-inspection">Electrical Inspection</option>
                  <option value="panel-upgrade">Panel Upgrade</option>
                  <option value="outlet-installation">Outlet Installation</option>
                  <option value="lighting-installation">Lighting Installation</option>
                  <option value="other">Other (please specify in message)</option>
                </select>
              </div>
              
              <div>
                <label for="urgency" class="block text-sm font-medium text-foreground mb-2">Urgency</label>
                <select 
                  id="urgency" 
                  name="urgency"
                  class="w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                >
                  <option value="routine">Routine (within a week)</option>
                  <option value="soon">Soon (within 2-3 days)</option>
                  <option value="urgent">Urgent (within 24 hours)</option>
                  <option value="emergency">Emergency (immediate)</option>
                </select>
              </div>
              
              <div>
                <label for="message" class="block text-sm font-medium text-foreground mb-2">Project Details</label>
                <textarea 
                  id="message" 
                  name="message" 
                  rows="4"
                  class="w-full px-4 py-3 border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                  placeholder="Please describe your electrical project, any specific requirements, or questions you have..."
                ></textarea>
              </div>
              
              <button 
                type="submit"
                class="w-full bg-primary text-primary-foreground px-8 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors"
              >
                Send Message & Get Free Quote
              </button>
            </form>
          </div>

          <!-- Contact Information -->
          <div>
            <h2 class="text-3xl font-bold mb-8">Get In Touch</h2>
            
            <!-- Emergency Contact -->
            <div class="bg-red-50 border border-red-200 rounded-lg p-6 mb-8">
              <h3 class="text-xl font-semibold text-red-800 mb-4">🚨 Emergency Service</h3>
              <p class="text-red-700 mb-4">For electrical emergencies, call us immediately:</p>
              <a href={`tel:${emergencyContact.phone.replace(/\D/g, '')}`} class="text-2xl font-bold text-red-800 hover:text-red-900">
                {emergencyContact.phone}
              </a>
              <p class="text-sm text-red-600 mt-2">Available {emergencyContact.available} for emergency electrical repairs</p>
            </div>

            <!-- Regular Contact Info -->
            <div class="space-y-6">
              <div class="bg-card p-6 rounded-lg border">
                <h3 class="text-xl font-semibold mb-4">📞 Phone</h3>
                <div class="space-y-2">
                  <p class="text-foreground">Main Office: <a href={`tel:${contactInfo.main.phone.replace(/\D/g, '')}`} class="text-primary hover:underline">{contactInfo.main.phone}</a></p>
                  <p class="text-muted-foreground">{hoursInfo.regular.weekdays}</p>
                  <p class="text-muted-foreground">{hoursInfo.regular.saturday}</p>
                  <p class="text-muted-foreground">{hoursInfo.regular.sunday}</p>
                </div>
              </div>

              <div class="bg-card p-6 rounded-lg border">
                <h3 class="text-xl font-semibold mb-4">📧 Email</h3>
                <div class="space-y-2">
                  <p class="text-foreground">General Inquiries: <a href={`mailto:${contactInfo.departments.general}`} class="text-primary hover:underline">{contactInfo.departments.general}</a></p>
                  <p class="text-foreground">Emergency Service: <a href={`mailto:${contactInfo.departments.emergency}`} class="text-primary hover:underline">{contactInfo.departments.emergency}</a></p>
                  <p class="text-foreground">Estimates: <a href={`mailto:${contactInfo.departments.quotes}`} class="text-primary hover:underline">{contactInfo.departments.quotes}</a></p>
                </div>
              </div>

              <div class="bg-card p-6 rounded-lg border">
                <h3 class="text-xl font-semibold mb-4">📍 Service Areas</h3>
                <div class="space-y-2">
                  {cities.map((city: any) => (
                    <p class="text-foreground">• {city.name}, {city.stateAbbr}</p>
                  ))}
                  <p class="text-muted-foreground text-sm mt-2">And surrounding areas within 10 miles</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-16 px-4 bg-muted/30">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">Frequently Asked Questions</h2>
        <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-lg font-semibold mb-3">How quickly can you respond to emergency calls?</h3>
            <p class="text-muted-foreground">We provide 24/7 emergency electrical services and typically respond within 1-2 hours for urgent situations.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-lg font-semibold mb-3">Are you licensed and insured?</h3>
            <p class="text-muted-foreground">Yes, we are fully licensed electricians with comprehensive liability insurance and workers' compensation coverage.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-lg font-semibold mb-3">Do you provide free estimates?</h3>
            <p class="text-muted-foreground">Absolutely! We provide detailed, no-obligation free quotes for all electrical projects, both residential and commercial. Contact us to schedule your free consultation.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-lg font-semibold mb-3">What areas do you serve?</h3>
            <p class="text-muted-foreground">We serve La Mirada, Whittier, Cerritos, and all surrounding areas within a 10-mile radius.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-lg font-semibold mb-3">Do you work on weekends?</h3>
            <p class="text-muted-foreground">We offer Saturday service for non-emergency projects and 24/7 emergency service every day of the week.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-lg font-semibold mb-3">What types of electrical work do you do?</h3>
            <p class="text-muted-foreground">We handle residential wiring, commercial electrical, emergency repairs, panel upgrades, lighting installation, and more.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 px-4 bg-primary text-primary-foreground">
      <div class="container mx-auto text-center">
        <h2 class="text-3xl font-bold mb-4">Ready to Get Started?</h2>
        <p class="text-xl mb-8 opacity-90">Don't wait - contact {companyInfo.name} today for professional electrical services you can trust.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href={`tel:${contactInfo.main.phone.replace(/\D/g, '')}`} class="bg-background text-foreground px-8 py-3 rounded-lg font-semibold hover:bg-background/90 transition-colors">
            Call {contactInfo.main.phone}
          </a>
          <a href={`mailto:${contactInfo.main.email}`} class="border border-primary-foreground text-primary-foreground px-8 py-3 rounded-lg font-semibold hover:bg-primary-foreground/10 transition-colors">
            Send Email
          </a>
        </div>
      </div>
    </section>
  </main>
</Layout>

---
// Enhanced Service Page Template for First Electric - Local SEO Optimized
// This template provides a comprehensive structure for creating new service pages
// that fully complies with Google Local SEO best practices

import Layout from '../layouts/Layout.astro';
import { getServiceBySlug, getAllServices, getAllCities } from '../lib/data';
import type { Service } from '../lib/data';

// This template shows the structure - replace with actual service data
// For a real implementation, you would use getStaticPaths() like this:
/*
export async function getStaticPaths() {
  const services = getAllServices();
  return services.map((service) => ({
    params: { service: service.slug },
    props: { service },
  }));
}
*/

interface Props {
  service: Service;
}

// For template demonstration - replace with actual service prop
const { service } = Astro.props;
const cities = getAllCities();

// Generate enhanced schema markup for local SEO
function generateServiceSchema(service: Service) {
  return {
    "@context": "https://schema.org",
    "@type": "Service",
    "name": service.title,
    "description": service.description,
    "provider": {
      "@type": "Electrician",
      "name": "First Electric LLC",
      "telephone": "(657) 239-6331",
      "email": "contact@firstelectric.pro",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "12310 La Pomelo Rd",
        "addressLocality": "La Mirada",
        "addressRegion": "CA",
        "postalCode": "90638",
        "addressCountry": "US"
      },
      "hasCredential": {
        "@type": "EducationalOccupationalCredential",
        "credentialCategory": "license",
        "name": "C-10 Electrical Contractor License",
        "identifier": "1120441"
      }
    },
    "serviceType": service.title,
    "category": "Electrical Services",
    "areaServed": [
      {
        "@type": "City",
        "name": "La Mirada",
        "containedInPlace": {
          "@type": "State",
          "name": "California"
        }
      },
      {
        "@type": "City",
        "name": "Whittier",
        "containedInPlace": {
          "@type": "State",
          "name": "California"
        }
      },
      {
        "@type": "City",
        "name": "Cerritos",
        "containedInPlace": {
          "@type": "State",
          "name": "California"
        }
      }
    ],
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": `${service.title} Services`,
      "itemListElement": service.features.map((feature, index) => ({
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": feature
        },
        "position": index + 1
      }))
    },
    "offers": {
      "@type": "Offer",
      "priceRange": "$$",
      "availability": "https://schema.org/InStock",
      "validFrom": new Date().toISOString().split('T')[0],
      "priceCurrency": "USD",
      "description": "Free estimates available for all electrical services"
    }
  };
}

// Generate FAQ schema for local SEO
function generateFAQSchema(service: Service) {
  return {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": `How quickly can you respond to ${service.title.toLowerCase()} in La Mirada?`,
        "acceptedAnswer": {
          "@type": "Answer",
          "text": `We typically respond to ${service.title.toLowerCase()} requests in La Mirada within 60 minutes, 24/7. Our team is strategically located to serve the entire La Mirada area quickly, and we stock common parts to resolve most issues on the first visit.`
        }
      },
      {
        "@type": "Question",
        "name": `Do you offer free estimates for ${service.title.toLowerCase()}?`,
        "acceptedAnswer": {
          "@type": "Answer",
          "text": `Yes, we provide free estimates for all ${service.title.toLowerCase()} services. Our licensed electricians will assess your electrical needs and provide a detailed estimate with no obligation.`
        }
      },
      {
        "@type": "Question",
        "name": "Are you licensed and insured for electrical work in California?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, First Electric LLC is a licensed C-10 electrical contractor (License #1120441) and fully insured. We are bonded and carry comprehensive liability insurance to protect your property and our work."
        }
      },
      {
        "@type": "Question",
        "name": "What areas do you serve for electrical services?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "We serve La Mirada, Whittier, Cerritos, Buena Park, La Habra, Santa Fe Springs, and surrounding areas in Los Angeles and Orange Counties. Contact us to confirm service availability in your specific location."
        }
      }
    ]
  };
}

const serviceSchema = generateServiceSchema(service);
const faqSchema = generateFAQSchema(service);
---

<Layout 
  title={service.seo.title} 
  description={service.seo.description}
  service={service}
  breadcrumbs={[
    { name: "Home", url: "/" },
    { name: "Services", url: "/services" },
    { name: service.title, url: `/services/${service.slug}` }
  ]}
>
  <!-- Enhanced Schema Markup for Local SEO -->
  <script type="application/ld+json" set:html={JSON.stringify(serviceSchema)}></script>
  <script type="application/ld+json" set:html={JSON.stringify(faqSchema)}></script>
  <main class="min-h-screen bg-background">
    <!-- Hero Section - Enhanced with Local Context -->
    <section class="py-20 px-4 bg-gradient-to-br from-primary/10 to-primary/5">
      <div class="container mx-auto text-center">
        <div class="text-6xl mb-6">{service.icon}</div>
        <h1 class="text-4xl md:text-6xl font-bold text-foreground mb-6">
          {service.title} in La Mirada, Whittier & Cerritos
        </h1>
        <p class="text-xl text-muted-foreground mb-6 max-w-4xl mx-auto">
          {service.description} First Electric LLC is your trusted licensed C-10 electrical contractor (License #1120441) serving La Mirada, Whittier, Cerritos, and surrounding areas with professional electrical solutions.
        </p>
        <p class="text-lg text-muted-foreground mb-8 max-w-3xl mx-auto">
          Whether you need {service.title.toLowerCase()} in La Mirada's residential neighborhoods, Whittier's historic homes, or Cerritos' modern developments, our experienced electricians deliver safe, code-compliant electrical work with 24/7 emergency service availability.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <button 
            class="bg-primary text-primary-foreground px-8 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors"
            onclick="openBooking('freeQuote')"
          >
            Get Free Quote
          </button>
          <a href="#cities-we-serve" class="border border-input bg-background text-foreground px-8 py-3 rounded-lg font-semibold hover:bg-accent transition-colors inline-block">
            View Cities We Serve
          </a>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 px-4">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">What We Offer</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {service.features.map((feature) => (
            <div class="bg-card p-6 rounded-lg border shadow-sm hover:shadow-md transition-shadow">
              <h3 class="text-xl font-semibold mb-2">{feature}</h3>
              <p class="text-muted-foreground">Professional installation and service for {feature.toLowerCase()}.</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Benefits Section -->
    <section class="py-16 px-4 bg-muted/30">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">Why Choose Our {service.title} Services?</h2>
        <div class="grid md:grid-cols-2 gap-8">
          {service.benefits.map((benefit) => (
            <div class="flex items-start gap-4">
              <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                <span class="text-primary-foreground text-sm">✓</span>
              </div>
              <div>
                <h3 class="text-lg font-semibold mb-2">{benefit}</h3>
                <p class="text-muted-foreground">Experience the difference with our professional approach to {service.title.toLowerCase()}.</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Local Considerations Section - NEW for Local SEO -->
    <section class="py-16 px-4">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">Local Considerations for {service.title}</h2>
        <div class="grid lg:grid-cols-3 gap-8">
          <div class="bg-card p-6 rounded-lg border shadow-sm">
            <h3 class="text-xl font-semibold mb-4 text-primary">La Mirada {service.title}</h3>
            <p class="text-muted-foreground mb-4">
              La Mirada's diverse housing stock, from homes built in the 1960s to modern developments, requires specialized electrical expertise. Our licensed electricians understand the unique electrical challenges facing La Mirada property owners.
            </p>
            <ul class="space-y-2 text-sm text-muted-foreground">
              <li>• Local permit requirements and processes</li>
              <li>• California electrical code compliance</li>
              <li>• Area-specific electrical challenges</li>
              <li>• Local building department coordination</li>
            </ul>
          </div>
          <div class="bg-card p-6 rounded-lg border shadow-sm">
            <h3 class="text-xl font-semibold mb-4 text-primary">Whittier {service.title}</h3>
            <p class="text-muted-foreground mb-4">
              Whittier's historic homes and modern developments require careful electrical planning. Our team is experienced with both historic property preservation and contemporary electrical needs in Whittier.
            </p>
            <ul class="space-y-2 text-sm text-muted-foreground">
              <li>• Historic home electrical considerations</li>
              <li>• Local electrical permit requirements</li>
              <li>• Whittier-specific code compliance</li>
              <li>• Neighborhood-specific challenges</li>
            </ul>
          </div>
          <div class="bg-card p-6 rounded-lg border shadow-sm">
            <h3 class="text-xl font-semibold mb-4 text-primary">Cerritos {service.title}</h3>
            <p class="text-muted-foreground mb-4">
              Cerritos' modern infrastructure and focus on technology requires advanced electrical solutions. Our electricians are experienced with smart home installations and modern electrical systems in Cerritos.
            </p>
            <ul class="space-y-2 text-sm text-muted-foreground">
              <li>• Modern home electrical systems</li>
              <li>• Smart home integration expertise</li>
              <li>• Energy-efficient solutions</li>
              <li>• Commercial electrical experience</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Pricing & Estimates Section - NEW for Local SEO -->
    <section class="py-16 px-4 bg-muted/30">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">Pricing & Estimates for {service.title}</h2>
        <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
          <div class="bg-card p-8 rounded-lg border shadow-sm">
            <h3 class="text-2xl font-semibold mb-4 text-primary">Free Estimates</h3>
            <p class="text-muted-foreground mb-6">
              We provide detailed, free estimates for all {service.title.toLowerCase()} services in La Mirada, Whittier, Cerritos, and surrounding areas. Our licensed electricians will assess your electrical needs and provide transparent pricing with no hidden fees.
            </p>
            <ul class="space-y-3 text-muted-foreground">
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 bg-primary rounded-full"></span>
                No obligation estimates
              </li>
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 bg-primary rounded-full"></span>
                Detailed project breakdown
              </li>
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 bg-primary rounded-full"></span>
                Local market pricing
              </li>
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 bg-primary rounded-full"></span>
                Timeline expectations
              </li>
            </ul>
          </div>
          <div class="bg-card p-8 rounded-lg border shadow-sm">
            <h3 class="text-2xl font-semibold mb-4 text-primary">Payment Options</h3>
            <p class="text-muted-foreground mb-6">
              We offer flexible payment options to make {service.title.toLowerCase()} accessible for all our customers in the La Mirada, Whittier, and Cerritos areas.
            </p>
            <ul class="space-y-3 text-muted-foreground">
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 bg-primary rounded-full"></span>
                Cash, check, and credit cards accepted
              </li>
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 bg-primary rounded-full"></span>
                Financing options available
              </li>
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 bg-primary rounded-full"></span>
                Insurance billing assistance
              </li>
              <li class="flex items-center gap-2">
                <span class="w-2 h-2 bg-primary rounded-full"></span>
                Warranty on all work
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Local Testimonials Section - NEW for Local SEO -->
    <section class="py-16 px-4">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">What Our Local Customers Say</h2>
        <div class="grid md:grid-cols-3 gap-8">
          <div class="bg-card p-6 rounded-lg border shadow-sm">
            <div class="flex items-center gap-1 mb-4">
              {[1,2,3,4,5].map(() => (
                <span class="text-yellow-400 text-xl">★</span>
              ))}
            </div>
            <p class="text-muted-foreground mb-4">
              "First Electric came out for {service.title.toLowerCase()} in La Mirada and fixed our issue within an hour. Professional, knowledgeable, and reasonably priced. Highly recommend!"
            </p>
            <div class="text-sm font-semibold">Sarah Johnson</div>
            <div class="text-sm text-muted-foreground">La Mirada, CA</div>
          </div>
          <div class="bg-card p-6 rounded-lg border shadow-sm">
            <div class="flex items-center gap-1 mb-4">
              {[1,2,3,4,5].map(() => (
                <span class="text-yellow-400 text-xl">★</span>
              ))}
            </div>
            <p class="text-muted-foreground mb-4">
              "Excellent service for our {service.title.toLowerCase()} in Whittier. The team was professional, clean, and completed the work on time. Great communication throughout the process."
            </p>
            <div class="text-sm font-semibold">Mike Rodriguez</div>
            <div class="text-sm text-muted-foreground">Whittier, CA</div>
          </div>
          <div class="bg-card p-6 rounded-lg border shadow-sm">
            <div class="flex items-center gap-1 mb-4">
              {[1,2,3,4,5].map(() => (
                <span class="text-yellow-400 text-xl">★</span>
              ))}
            </div>
            <p class="text-muted-foreground mb-4">
              "We needed {service.title.toLowerCase()} in our Cerritos home. First Electric handled everything from permits to final inspection. The work was done professionally and on schedule."
            </p>
            <div class="text-sm font-semibold">Jennifer Chen</div>
            <div class="text-sm text-muted-foreground">Cerritos, CA</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Process Section -->
    <section class="py-16 px-4">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">Our {service.title} Process</h2>
        <div class="grid md:grid-cols-4 gap-8">
          <div class="text-center">
            <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-primary-foreground text-2xl font-bold">1</span>
            </div>
            <h3 class="text-xl font-semibold mb-2">Free Consultation</h3>
            <p class="text-muted-foreground">We assess your needs and provide a detailed quote.</p>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-primary-foreground text-2xl font-bold">2</span>
            </div>
            <h3 class="text-xl font-semibold mb-2">Planning & Design</h3>
            <p class="text-muted-foreground">We create a custom plan tailored to your requirements.</p>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-primary-foreground text-2xl font-bold">3</span>
            </div>
            <h3 class="text-xl font-semibold mb-2">Professional Installation</h3>
            <p class="text-muted-foreground">Our licensed electricians complete the work safely and efficiently.</p>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-primary-foreground text-2xl font-bold">4</span>
            </div>
            <h3 class="text-xl font-semibold mb-2">Quality Assurance</h3>
            <p class="text-muted-foreground">We test everything and provide ongoing support.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section - Enhanced with Local Context and Voice Search Optimization -->
    <section class="py-16 px-4 bg-muted/30">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">Frequently Asked Questions</h2>
        <div class="max-w-4xl mx-auto space-y-6">
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-xl font-semibold mb-2">How quickly can you respond to {service.title.toLowerCase()} in La Mirada?</h3>
            <p class="text-muted-foreground">We typically respond to {service.title.toLowerCase()} requests in La Mirada within 60 minutes, 24/7. Our team is strategically located to serve the entire La Mirada area quickly, and we stock common parts to resolve most issues on the first visit.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-xl font-semibold mb-2">Do you offer free estimates for {service.title.toLowerCase()}?</h3>
            <p class="text-muted-foreground">Yes, we provide free estimates for all {service.title.toLowerCase()} services in La Mirada, Whittier, Cerritos, and surrounding areas. Our licensed electricians will assess your electrical needs and provide a detailed estimate with no obligation.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-xl font-semibold mb-2">Are you licensed and insured for electrical work in California?</h3>
            <p class="text-muted-foreground">Yes, First Electric LLC is a licensed C-10 electrical contractor (License #1120441) and fully insured. We are bonded and carry comprehensive liability insurance to protect your property and our work.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-xl font-semibold mb-2">What areas do you serve for electrical services?</h3>
            <p class="text-muted-foreground">We serve La Mirada, Whittier, Cerritos, Buena Park, La Habra, Santa Fe Springs, and surrounding areas in Los Angeles and Orange Counties. Contact us to confirm service availability in your specific location.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-xl font-semibold mb-2">Do you work on both residential and commercial {service.title.toLowerCase()} projects?</h3>
            <p class="text-muted-foreground">Yes, we provide comprehensive {service.title.toLowerCase()} services for both residential and commercial properties. Our licensed electricians are experienced in everything from home electrical repairs to large commercial installations and upgrades.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-xl font-semibold mb-2">How long does {service.title.toLowerCase()} take in Whittier?</h3>
            <p class="text-muted-foreground">The duration depends on the scope of work and property type. Simple installations may take a few hours, while complex projects in Whittier's historic homes can take several days. We provide detailed timelines during your free consultation and account for local permit requirements.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-xl font-semibold mb-2">Do you handle permits for {service.title.toLowerCase()} in Cerritos?</h3>
            <p class="text-muted-foreground">Yes, we handle all permit applications and inspections for {service.title.toLowerCase()} work in Cerritos. Our licensed electricians are familiar with Cerritos' specific electrical codes and work closely with the building department to ensure compliance.</p>
          </div>
          <div class="bg-card p-6 rounded-lg border">
            <h3 class="text-xl font-semibold mb-2">What should I do if I have an electrical emergency in my area?</h3>
            <p class="text-muted-foreground">If you have an electrical emergency, call our emergency line immediately at (657) 239-6331. If there's an electrical fire, call 911 first, then call us. Never attempt to repair electrical emergencies yourself as this can be dangerous. We provide 24/7 emergency service throughout our service area.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Cities We Serve Section -->
    <section id="cities-we-serve" class="py-16 px-4">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">Cities We Serve</h2>
        <p class="text-xl text-muted-foreground text-center mb-8 max-w-3xl mx-auto">
          We provide {service.title.toLowerCase()} services in these California cities and surrounding areas.
        </p>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          {cities.map((city) => (
            <a href={`/services/${service.slug}/${city.slug}`} class="group">
              <div class="bg-card p-6 rounded-lg border shadow-sm hover:shadow-md transition-all duration-300 group-hover:border-primary/50">
                <h3 class="text-xl font-bold mb-2 group-hover:text-primary transition-colors">
                  {service.title} in {city.name}
                </h3>
                <p class="text-muted-foreground mb-4">{city.state}</p>
                <div class="space-y-2 mb-4">
                  <div class="flex items-center gap-2">
                    <span class="w-2 h-2 bg-primary rounded-full"></span>
                    <span class="text-sm text-foreground">Population: {city.population}</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="w-2 h-2 bg-primary rounded-full"></span>
                    <span class="text-sm text-foreground">{city.serviceAreas.length} service areas</span>
                  </div>
                </div>
                <div class="flex items-center justify-between">
                  <span class="text-sm text-muted-foreground">Get {service.title.toLowerCase()} in {city.name}</span>
                  <span class="text-primary group-hover:translate-x-1 transition-transform">→</span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>

    <!-- Free Quote Section -->
    <section class="py-16 px-4">
      <div class="container mx-auto text-center">
        <h2 class="text-3xl font-bold mb-8">Get Your Free Quote</h2>
        <div class="bg-card p-8 rounded-lg border shadow-sm max-w-md mx-auto">
          <h3 class="text-2xl font-semibold mb-4">No Obligation</h3>
          <p class="text-muted-foreground mb-6">
            Contact us for a detailed, free estimate tailored to your specific {service.title.toLowerCase()} needs.
          </p>
          <button 
            class="bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors w-full"
            onclick="openBooking('freeQuote')"
          >
            Get Your Free Quote
          </button>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 px-4 bg-primary text-primary-foreground">
      <div class="container mx-auto text-center">
        <h2 class="text-3xl font-bold mb-4">Ready to Get Started?</h2>
        <p class="text-xl mb-8 opacity-90">Contact us today for professional {service.title.toLowerCase()} services.</p>
        <button 
          class="bg-background text-foreground px-8 py-3 rounded-lg font-semibold hover:bg-background/90 transition-colors"
          onclick="openBooking('freeQuote')"
        >
          Get Free Quote
        </button>
      </div>
    </section>
  </main>
</Layout>
